openapi: 3.0.1
servers:
- url: /
info:
  version: '2.0'
  title: API Gateway Resources
  description: ''
paths:
  /api/v1/apis/:
    get:
      operationId: get_apis
      description: 查询网关
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v1/apis/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v1/apis/{api_name}/permissions/apply/:
    post:
      operationId: apply_permissions
      description: 申请网关API访问权限
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/permissions/apply/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/permissions/grant/:
    post:
      operationId: grant_permissions
      description: 网关为应用主动授权
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/permissions/grant/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/permissions/revoke/:
    delete:
      operationId: revoke_permissions
      description: 回收应用访问网关 API 的权限
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: delete
          path: /backend/api/v1/apis/{api_name}/permissions/revoke/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/public_key/:
    get:
      operationId: get_apigw_public_key
      description: 获取网关公钥
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: core-api
          method: get
          path: /api/v1/open/gateways/{api_name}/public_key/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None

  /api/v2/mcp-servers/{mcp_server_name}/sse:
    get:
      operationId: mcp_proxy_sse
      description: mcp proxy sse接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: get
          path: /{mcp_server_name}/sse
          matchSubpath: false
          timeout: 0
        pluginConfigs:
        - type: bk-oauth2-protected-resource
          yaml: '{}'
        - type: bk-oauth2-verify
          yaml: '{}'
        - type: bk-oauth2-audience-validate
          yaml: '{}'
        authConfig:
          userVerifiedRequired: true
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/mcp-servers/{mcp_server_name}/sse/message:
    post:
      operationId: mcp_proxy_message
      description: mcp proxy message接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: post
          path: /{mcp_server_name}/sse/message
          matchSubpath: false
          timeout: 0
        pluginConfigs:
        - type: bk-oauth2-protected-resource
          yaml: '{}'
        - type: bk-oauth2-verify
          yaml: '{}'
        - type: bk-oauth2-audience-validate
          yaml: '{}'
        authConfig:
          userVerifiedRequired: true
          appVerifiedRequired: true
          resourcePermissionRequired: false
  /api/v2/mcp-servers/{mcp_server_name}/application/sse:
    get:
      operationId: mcp_proxy_application_sse
      description: mcp proxy sse(应用态)接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: get
          path: /{mcp_server_name}/application/sse
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/mcp-servers/{mcp_server_name}/application/sse/message:
    post:
      operationId: mcp_proxy_application_message
      description: mcp proxy message(应用态)接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: post
          path: /{mcp_server_name}/application/sse/message
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
  /api/v2/mcp-servers/{mcp_server_name}/mcp:
    get:
      operationId: mcp_proxy_user_streamable_http_get
      description: mcp proxy streamableHTTP(用户态)接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: get
          path: /{mcp_server_name}/mcp
          matchSubpath: false
          timeout: 0
        pluginConfigs:
        - type: bk-oauth2-protected-resource
          yaml: '{}'
        - type: bk-oauth2-verify
          yaml: '{}'
        - type: bk-oauth2-audience-validate
          yaml: '{}'
        authConfig:
          userVerifiedRequired: true
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
    post:
      operationId: mcp_proxy_user_streamable_http_post
      description: mcp proxy streamableHTTP(用户态)接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: post
          path: /{mcp_server_name}/mcp
          matchSubpath: false
          timeout: 0
        pluginConfigs:
        - type: bk-oauth2-protected-resource
          yaml: '{}'
        - type: bk-oauth2-verify
          yaml: '{}'
        - type: bk-oauth2-audience-validate
          yaml: '{}'
        authConfig:
          userVerifiedRequired: true
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/mcp-servers/{mcp_server_name}/application/mcp:
    post:
      operationId: mcp_proxy_app_streamable_http_post
      description: mcp proxy streamableHTTP(应用态)接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: post
          path: /{mcp_server_name}/application/mcp
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
    get:
      operationId: mcp_proxy_app_streamable_http_get
      description: mcp proxy streamableHTTP(应用态)接口
      tags:
        - v2_mcp
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: mcp-proxy
          method: get
          path: /{mcp_server_name}/application/mcp
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
  /api/v1/apis/{api_name}/related-apps/:
    post:
      operationId: add_related_apps
      description: 添加网关关联应用
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/related-apps/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/released/stages/{stage_name}/resources/:
    get:
      operationId: get_released_resources
      description: 查询已发布资源列表
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v1/apis/{api_name}/released/stages/{stage_name}/resources/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v1/apis/{api_name}/released/stages/{stage_name}/resources/{resource_name}/:
    get:
      operationId: get_released_resource
      description: 查询发布资源详情(包含接口参数)
      tags:
      - v1
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v1/apis/{api_name}/released/stages/{stage_name}/resources/{resource_name}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn:
  /api/v1/apis/{api_name}/resource-docs/import/by-archive/:
    post:
      operationId: import_resource_docs_by_archive
      description: 通过文档归档文件导入资源文档
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/resource-docs/import/by-archive/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/resource-docs/import/by-swagger/:
    post:
      operationId: import_resource_docs_by_swagger
      description: 通过 Swagger 格式导入文档
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/resource-docs/import/by-swagger/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/resources/sync/:
    post:
      operationId: sync_resources
      description: 同步资源
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/resources/sync/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/resource_versions/:
    get:
      operationId: list_resource_versions
      description: 查询资源版本
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v1/apis/{api_name}/resource_versions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: List resource versions
    post:
      operationId: create_resource_version
      description: 创建资源版本
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/resource_versions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/resource_versions/latest/:
    get:
      operationId: get_latest_resource_version
      description: 获取网关最新版本
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v1/apis/{api_name}/resource_versions/latest/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/resource_versions/release/:
    post:
      operationId: release
      description: 发布版本
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/resource_versions/release/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/sdk/:
    post:
      operationId: generate_sdk
      description: 生成 SDK
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/sdk/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/stages/:
    get:
      operationId: get_stages
      description: 查询环境
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v1/apis/{api_name}/stages/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v1/apis/{api_name}/stages/sync/:
    post:
      operationId: sync_stage
      description: 同步环境
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/stages/sync/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/stages/with-resource-version/:
    get:
      operationId: get_stages_with_resource_version
      description: 查询网关环境资源版本
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v1/apis/{api_name}/stages/with-resource-version/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: get stages with resource version
  /api/v1/apis/{api_name}/status/:
    post:
      operationId: update_gateway_status
      description: 修改网关状态
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/status/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v1/apis/{api_name}/sync/:
    post:
      operationId: sync_api
      description: 同步网关
      tags:
      - v1
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v1/apis/{api_name}/sync/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/gateways/:
    get:
      operationId: v2_open_list_gateways
      description: 获取网关列表
      tags:
      - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/gateways/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/gateways/{gateway_name}/:
    get:
      operationId: v2_open_get_gateway
      description: 获取网关
      tags:
      - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/gateways/{gateway_name}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/gateways/{gateway_name}/resources/:
    get:
      operationId: v2_open_list_gateway_resources
      description: 获取网关资源列表
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    properties:
                      resource_info:
                        type: object
                        properties:
                          id:
                            type: number
                            description: 资源id
                          name:
                            type: string
                            description: 资源name
                          description:
                            type: string
                            description: 资源描述
                          method:
                            type: string
                            description: 请求方法（GET、POST 等）
                          path:
                            type: string
                            description: '资源路径  '
                          match_subpath:
                            type: boolean
                            description: '是否匹配子路径 '
                          enable_websocket:
                            type: boolean
                            description: '是否启用 WebSocket '
                          is_public:
                            type: boolean
                            description: 是否公开
                          labels:
                            type: array
                            description: 标签列表
                            properties:
                              label:
                                type: object
                                properties:
                                  id:
                                    type: number
                                    description: 标签id
                                  name:
                                    type: string
                                    description: 标签name
                          auth_config:
                            type: object
                            properties:
                              user_verified_required:
                                type: boolean
                                description: '是否需要用户认证; True: 那么调用接口需要提供用户身份：例如：bk_ticket'
                              app_verified_required:
                                type: boolean
                                description: '是否需要应用认证; True: 那么调用接口需要提供应用身份：bk_app_code+bk_app_secret'
                              resource_perm_required:
                                type: boolean
                                description: '是否需要资源权限; True: 则需要申请该资源权限才可以调用'
      parameters:
        - in: path
          name: gateway_name
          description: 网关name
          required: true
          schema:
            type: string
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/gateways/{gateway_name}/resources/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/gateways/{gateway_name}/resources/{resource_name}/:
    get:
      operationId: v2_open_retrieve_gateway_api_details
      description: 获取网关资源详情
      tags:
        - v2_open
      responses:
        default:
          description: 资源详情
          content:
            application/json:
              schema:
                type: object
                description: 资源详情
                properties:
                  id:
                    type: number
                    description: 资源id
                  name:
                    type: string
                    description: 资源名称
                  description:
                    type: string
                    description: 资源描述（中文）
                  description_en:
                    type: string
                    description: '资源描述（英文） '
                  method:
                    type: string
                    description: '请求方法（GET、POST 等） '
                  path:
                    type: string
                    description: ' 资源路径  '
                  'match_subpath ':
                    type: string
                    description: 是否匹配子路径
                  enable_websocket:
                    type: string
                    description: '是否启用 WebSocket '
                  is_public:
                    type: boolean
                    description: '是否公开 '
                  schema:
                    type: object
                    description: OpenAPI Schema 定义
                  doc:
                    type: object
                    properties:
                      type:
                        type: string
                        description: 文档类型（通常为 markdown）
                      content:
                        type: string
                        description: 文档内容（Markdown 格式）
                      updated_time:
                        type: string
                        description: 文档更新时间（ISO 8601 格式）
                  auth_config:
                    type: object
                    description: 资源认证相关信息
                    properties:
                      user_verified_required:
                        type: boolean
                        description: '是否需要用户认证; True: 那么调用接口需要提供用户身份：例如：bk_ticket)'
                      app_verified_required:
                        type: boolean
                        description: '是否需要应用认证; True: 那么调用接口需要提供应用身份：bk_app_code+bk_app_secret'
                      resource_perm_required:
                        type: boolean
                        description: '是否需要资源权限; True: 则需要申请该资源权限才可以调用      '
      parameters:
        - in: path
          name: gateway_name
          description: 网关名
          required: true
          schema:
            type: string
        - in: path
          name: resource_name
          description: 资源名称
          required: true
          schema:
            type: string
        - in: query
          name: stage_name
          description: 环境名称
          required: true
          schema:
            type: string
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/gateways/{gateway_name}/resources/{resource_name}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/gateway/{gateway_name}/public_key/:
    get:
      operationId: v2_open_get_gateway_public_key
      description: 获取网关公钥(废弃)
      tags:
      - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: core-api
          method: get
          path: /api/v1/open/gateways/{gateway_name}/public_key/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/gateways/{gateway_name}/public_key/:
    get:
      operationId: v2_open_get_gateway_public_key_new
      description: 获取网关公钥
      tags:
      - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: core-api
          method: get
          path: /api/v1/open/gateways/{gateway_name}/public_key/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/gateways/{gateway_name}/permissions/apply/:
    post:
      operationId: v2_open_apply_gateway_permission
      description: 申请网关权限
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/open/gateways/{gateway_name}/permissions/apply/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/mcp-servers/:
    get:
      operationId: v2_open_list_mcp_server
      description: 获取公开的 mcp_server 列表
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/mcp-servers/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/mcp-servers/{mcp_server_id}/permissions/:
    get:
      operationId: v2_open_list_mcp_server_permissions
      description: 获取 mcp_server 的权限列表
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/mcp-servers/{mcp_server_id}/permissions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/mcp-servers/permissions/:
    get:
      operationId: v2_open_list_mcp_server_app_permissions
      description: 获取 app_code 的权限列表
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/mcp-servers/permissions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/mcp-servers/permissions/apply/:
    post:
      operationId: v2_open_mcp_server_app_permissions_apply
      description: 指定应用发起 mcp_server 权限申请
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/open/mcp-servers/permissions/apply/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/mcp-servers/permissions/apply-records/:
    get:
      operationId: v2_open_list_mcp_server_app_permissions_apply_records
      description: 获取指定应用的 mcp_server 权限申请记录列表
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/mcp-servers/permissions/apply-records/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/user/mcp-servers/:
    get:
      operationId: v2_open_list_user_mcp_server
      description: 获取 mcp_server 列表
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/user/mcp-servers/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: true
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/open/tools/time/get_datetime/:
    get:
      operationId: v2_open_tools_time_get_datetime
      description: 获取当前时间
      tags:
        - v2_open
      responses:
        default:
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      datetime:
                        type: string
                        description: 'format is %Y-%m-%d %H:%M:%S'
          description: ''
      parameters:
      - in: query
        name: tz_name
        schema:
          type: string
          default: Asia/Shanghai
        description: timezone
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/tools/time/get_datetime/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/tools/time/get_current_unix_timestamp/:
    get:
      operationId: v2_open_tools_time_get_current_unix_timestamp
      description: 获取当前时间戳
      tags:
        - v2_open
      responses:
        default:
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      unix_timestamp:
                        type: number
                        description: 'e.g. 1767665249'
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/tools/time/get_current_unix_timestamp/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/tools/time/parse_datetime_str_to_timestamp/:
    post:
      operationId: v2_open_tools_time_parse_datetime_str_to_timestamp
      description: 将时间字符串转换为时间戳
      tags:
        - v2_open
      responses:
        default:
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      timestamp:
                        type: number
                        description: e.g. 1767665249
          description: ''
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - datetime
              properties:
                datetime:
                  type: string
                  description: '2026-01-05 12:00:00'
                datetime_format:
                  type: string
                  default: '%Y-%m-%d %H:%M:%S'
                  description: python's datetime format
        required: false
        description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/open/tools/time/parse_datetime_str_to_timestamp/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/tools/log/query_by_request_id/:
    get:
      operationId: v2_open_tools_log_query_by_request_id
      description: 根据 request_id 查询日志
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      parameters:
      - in: query
        name: request_id
        schema:
          type: string
        required: true
        description: request_id, 36 位 uuid
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/tools/log/query_by_request_id/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/open/.well-known/oauth-protected-resource:
    get:
      operationId: v2_open_oauth_protected_resource
      description: 获取 OAuth 保护资源元数据
      tags:
        - v2_open
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      parameters:
        - in: query
          name: resource
          schema:
            type: string
          required: true
          description: The resource URL
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/open/.well-known/oauth-protected-resource
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: false
          resourcePermissionRequired: false
        descriptionEn: Get OAuth Protected Resource Metadata
  /api/v2/sync/gateways/{gateway_name}/public_key/:
    get:
      operationId: v2_sync_get_gateway_public_key_new
      description: 获取网关公钥
      tags:
      - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: core-api
          method: get
          path: /api/v1/open/gateways/{gateway_name}/public_key/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/related-apps/:
    post:
      operationId: v2_sync_add_related_apps
      description: 添加网关的关联应用
      tags:
      - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/related-apps/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/stages/:
    post:
      operationId: v2_sync_stages
      description: 同步网关stage
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/stages/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None

  /api/v2/sync/gateways/{gateway_name}/stages/{stage_name}/mcp-servers/:
    post:
      operationId: v2_sync_stage_mcp_servers
      description: 同步网关 stage mcp_servers
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/stages/{stage_name}/mcp-servers/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None

  /api/v2/sync/gateways/{gateway_name}/:
    post:
      operationId: v2_sync_gateway
      description: 同步网关
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/resources/:
    post:
      operationId: v2_sync_resources
      description: 同步网关资源
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/resources/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/resource-docs/:
    post:
      operationId: v2_sync_resource_doc
      description: 同步网关资源文档
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/resource-docs/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/sdks/:
    post:
      operationId: v2_sync_generate_sdk
      description: 生成网关sdk
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/sdks/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/permissions/:
    get:
      operationId: v2_sync_list_permissions
      description: 获取网关权限列表
      tags:
      - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/sync/gateways/{gateway_name}/permissions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None

  /api/v2/sync/gateways/{gateway_name}/permissions/grant/:
    post:
      operationId: v2_sync_grant_permission
      description: 网关权限授权
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/permissions/grant/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None

  /api/v2/sync/gateways/{gateway_name}/resource_versions/:
    post:
      operationId: v2_sync_create_resource_version
      description: 网关资源版本创建
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/resource_versions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
    get:
      operationId: v2_sync_list_resource_versions
      description: 查询网关资源版本列表
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/sync/gateways/{gateway_name}/resource_versions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/resource_versions/latest/:
    get:
      operationId: v2_sync_get_resource_version_latest
      description: 获取网关资源版本最新版本
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/sync/gateways/{gateway_name}/resource_versions/latest/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/sync/gateways/{gateway_name}/resource_versions/release/:
    post:
      operationId: v2_sync_release
      description: 网关资源版本发布
      tags:
        - v2_sync
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: { }
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/sync/gateways/{gateway_name}/resource_versions/release/
          matchSubpath: false
          timeout: 0
        pluginConfigs: [ ]
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: false
        descriptionEn: None
  /api/v2/inner/gateways/:
    get:
      operationId: v2_inner_list_gateways
      description: 获取网关列表
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/gateways/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/gateways/{gateway_name}/:
    get:
      operationId: v2_inner_get_gateway
      description: 获取网关
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/gateways/{gateway_name}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
    delete:
      operationId: v2_inner_delete_gateway
      description: 删除网关，仅支持 bp- 开头的网关
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: delete
          path: /backend/api/v2/inner/gateways/{gateway_name}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: Delete gateway, only supports gateways starting with bp-
  /api/v2/inner/gateways/{gateway_name}/status/:
    put:
      operationId: v2_inner_update_gateway_status
      description: 更新网关状态（停用/启用），仅支持 bp- 开头的网关
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: put
          path: /backend/api/v2/inner/gateways/{gateway_name}/status/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: Update gateway status (disable/enable), only supports gateways starting with bp-
  /api/v2/inner/gateways/{gateway_name}/permissions/resources/:
    get:
      operationId: v2_inner_list_gateway_permission_resources
      description: 获取网关资源
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/gateways/{gateway_name}/permissions/resources/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/gateways/{gateway_name}/permissions/app-permissions/allow-apply-by-gateway/:
    get:
      operationId: v2_inner_check_is_allowed_apply_by_gateway
      description: 是否允许按网关申请资源权限
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/gateways/{gateway_name}/permissions/app-permissions/allow-apply-by-gateway/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/gateways/{gateway_name}/permissions/app-permissions/apply/:
    post:
      operationId: v2_inner_apply_gateway_resource_permission
      description: 网关资源权限申请
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/inner/gateways/{gateway_name}/permissions/app-permissions/apply/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/gateways/permissions/renew/:
    post:
      operationId: v2_inner_renew_resource_permission
      description: 权限续期
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/inner/gateways/permissions/renew/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/gateways/permissions/app-permissions/:
    get:
      operationId: v2_inner_list_app_resource_permissions
      description: 已申请权限列表
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/gateways/permissions/app-permissions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/gateways/permissions/apply-records/:
    get:
      operationId: v2_inner_list_resource_permission_apply_records
      description: 资源权限申请记录
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/gateways/permissions/apply-records/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/gateways/permissions/apply-records/{record_id}/:
    get:
      operationId: v2_inner_retrieve_resource_permission_apply_record
      description: 资源权限申请记录详情
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/gateways/permissions/apply-records/{record_id}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/esb/systems/:
    get:
      operationId: v2_inner_list_esb_systems
      description: 查询组件系统列表
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/esb/systems/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/esb/systems/{system_id}/permissions/components/:
    get:
      operationId: v2_inner_list_esb_system_permission_components
      description: 查询系统权限组件
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/esb/systems/{system_id}/permissions/components/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/esb/systems/{system_id}/permissions/apply/:
    post:
      operationId: v2_inner_apply_esb_system_component_permissions
      description: '创建申请ESB组件权限的申请单据'
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/inner/esb/systems/{system_id}/permissions/apply/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/esb/systems/permissions/renew/:
    post:
      operationId: v2_inner_renew_esb_component_permissions
      description: ESB 组件权限续期
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/inner/esb/systems/permissions/renew/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/esb/systems/permissions/app-permissions/:
    get:
      operationId: v2_inner_list_app_esb_component_permissions
      description: 已申请权限列表
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/esb/systems/permissions/app-permissions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/esb/systems/permissions/apply-records/:
    get:
      operationId: v2_inner_list_app_esb_component_permission_apply_records
      description: 查询应用权限申请记录列表
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/esb/systems/permissions/apply-records/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/esb/systems/permissions/apply-records/{record_id}/:
    get:
      operationId: v2_inner_get_app_esb_component_permission_apply_record
      description: 查询应用权限申请记录详情
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/esb/systems/permissions/apply-records/{record_id}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/mcp-server/permissions/:
    get:
      operationId: v2_inner_list_mcp_server_permissions
      description: 'mcp_server 申请权限列表'
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/mcp-server/permissions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/mcp-server/permissions/apply/:
    post:
      operationId: v2_inner_apply_mcp_server_permission
      description: 'mcp_server 权限申请/批量申请'
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: post
          path: /backend/api/v2/inner/mcp-server/permissions/apply/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/mcp-server/permissions/app-permissions/:
    get:
      operationId: v2_inner_list_mcp_server_app_permissions
      description: 'mcp_server 已申请权限列表'
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/mcp-server/permissions/app-permissions/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/mcp-server/permissions/apply-records/:
    get:
      operationId: v2_inner_list_mcp_server_permission_apply_records
      description: 'mcp_server 申请记录列表'
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/mcp-server/permissions/apply-records/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
  /api/v2/inner/mcp-server/permissions/apply-records/{record_id}/:
    get:
      operationId: v2_inner_retrieve_mcp_server_permission_apply_record
      description: 'mcp_server 申请记录详情'
      tags:
      - v2_inner
      responses:
        default:
          description: ''
          content:
            application/json:
              schema: {}
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        enableWebsocket: false
        backend:
          name: default
          method: get
          path: /backend/api/v2/inner/mcp-server/permissions/apply-records/{record_id}/
          matchSubpath: false
          timeout: 0
        pluginConfigs: []
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        descriptionEn: None
